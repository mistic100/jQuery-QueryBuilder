---
layout: default
title: Home
description: jQuery plugin for user friendly query/filter creator
isHome: true
---

<section class="bs-docs-section">
  <h1 id="overview" class="page-header">
    Overview
  </h1>

  <blockquote>QueryBuilder is an UI component to create queries and filters.</blockquote>

  <ul>
    <li>It can be used on advanced search engine pages, administration backends, etc.</li>
    <li>It is highly customizable and is pluggable to many jQuery widgets like autocompleters, sliders and
      datepickers.
    </li>
    <li>It outputs a structured JSON of rules which can be easily parsed to create SQL/NoSQL/whatever queries.</li>
    <li>And it also comes with a set of <i>great</i> <a href="{{ site.github.url | replace: 'http://', '//' }}/plugins.html">plugins</a> and has a
      full <a href="{{ site.github.url | replace: 'http://', '//' }}/dev/events.html">events system</a> for even more features.
    </li>
  </ul>
</section>

<section class="clearfix">
  <b>But let's look at a live example !</b>

  <div class="col-md-12 col-lg-10 col-lg-offset-1">
    <div id="builder-basic"></div>
    <p class="text-center">The full code of this example can be found <a href="{{ site.github.url | replace: 'http://', '//' }}/demo.html">here</a>.
    </p>
  </div>
</section>


<section class="bs-docs-section">
  <h1 id="installation" class="page-header">
    Getting started
  </h1>

  <a data-bootbox="download-popup" data-bootbox-size="large" class="btn btn-outline">Download {{site.name}}</a>

  <h3 id="dependencies">Dependencies</h3>
  <ul>
    <li><a href="http://jquery.com">jQuery >= 1.10</a></li>
    <li><a href="http://getbootstrap.com">Bootstrap >= 3.1</a> (CSS Buttons and Utilities only)</li>
    <li><a href="https://github.com/mistic100/jQuery.extendext">$.extendext</a></li>
    <li><a href="http://olado.github.io/doT">doT.js >= 1.0.3</a></li>
    <li><a href="http://momentjs.com">MomentJS</a> (optional, for Date/Time validation)</li>
    <li>Other libraries used by plugins</li>
  </ul>

  <div class="bs-callout">
    <h4>Don't want to use Bootstrap ?</h4>

    <p>Let's see <a href="{{ site.github.url | replace: 'http://', '//' }}/dev/no-bootstrap.html">what we can do for you</a>.</p>
  </div>

  <h3 id="letsgo">Let's go!</h3>

  <p>Include <a href="{{site.cdnUrl}}/css/query-builder.default.min.css" target="_blank"><i
    class="glyphicon glyphicon-file"></i> query-builder.css</a> in your page head and <a
    href="{{site.cdnUrl}}/js/query-builder.min.js" target="_blank"><i class="glyphicon glyphicon-file"></i>
    query-builder.js</a> after the dependencies. Then add QueryBuilder to any <code>&lt;div></code> you want.</p>

  <!-- @formatter:off -->
{% highlight html %}
<div id="builder"></div>

<script>
  $('#builder').queryBuilder({
    filters: [ ... ]
  });
</script>
{% endhighlight %}
<!-- @formatter:on -->

  <p>QueryBuilder can also be used with CommonJS :</p>

  <!-- @formatter:off -->
{% highlight js %}
require(['jquery', 'query-builder'], function($) {
  $('#builder').queryBuilder({
    filters: [ ... ]
  });
});
{% endhighlight %}
<!-- @formatter:on -->

  <p>A <a href="{{site.cdnUrl}}/js/query-builder.standalone.min.js" target="_blank"><i
    class="glyphicon glyphicon-file"></i> standalone version</a> is available with <i>$.extendext</i> and <i>doT.js</i>
    included (you still need to add jQuery and Bootstrap).</p>

  <h3 id="backends">Backends</h3>

  <p>Awesome people implemented parsers in various language, check them out :</p>

  <ul>
    <li><b>JAVA (JDBC)</b> <i class="glyphicon glyphicon-chevron-right"></i>
      itfsw / <a href="https://github.com/itfsw/QueryBuilder">QueryBuilder</a></li>
    <li><b>JAVA (JOOQ)</b> <i class="glyphicon glyphicon-chevron-right"></i>
      Kowalski.io / <a href="https://github.com/Kowalski-IO/jqb2jooq">jqb2jooq</a></li>
    <li><b>.NET</b> <i class="glyphicon glyphicon-chevron-right"></i>
      castle-it / <a href="https://github.com/castle-it/dynamic-linq-query-builder">dynamic-linq-query-builder</a></li>
    <li><b>PHP (Doctrine ORM)</b> <i class="glyphicon glyphicon-chevron-right"></i>
      fourlabsldn / <a href="https://github.com/fourlabsldn/QBJSParser">QBJSParser</a> </li>
    <li><b>PHP (Symfony with Doctrine ORM)</b> <i class="glyphicon glyphicon-chevron-right"></i>
      fourlabsldn / <a href="https://github.com/fourlabsldn/QBJSParserBundle">QBJSParserBundle</a></li>
    <li><b>PHP (Illuminate, Laravel with Illuminate)</b> <i class="glyphicon glyphicon-chevron-right"></i>
      timgws / <a href="https://github.com/timgws/QueryBuilderParser">QueryBuilderParser</a></li>
    <li><b>PHP (Yii 2)</b> <i class="glyphicon glyphicon-chevron-right"></i>
      leandrogehlen / <a href="https://github.com/leandrogehlen/yii2-querybuilder">yii2-querybuilder</a></li>
    <li><b>PHP (Symfony with Doctrine ORM)</b> <i class="glyphicon glyphicon-chevron-right"></i>
      josedacosta / <a href="https://github.com/josedacosta/jQueryQueryBuilderBundle">jQueryQueryBuilderBundle</a></li>
    <li><b>Python</b> <i class="glyphicon glyphicon-chevron-right"></i>
      NorthIsUp / <a href="https://github.com/northisup/querybuilder">querybuilder</a></li>
    <li><b>Rails</b> <i class="glyphicon glyphicon-chevron-right"></i>
      SixiS / <a href="https://github.com/SixiS/jquery_query_builder-rails">jquery_query_builder-rails</a></li>
  </ul>

  <p>
    Want your project listed here ? Open an <a href="https://github.com/mistic100/jQuery-QueryBuilder/issues">issue</a>
    or create a <a href="https://github.com/mistic100/jQuery-QueryBuilder/pulls">pull request</a> on the <code>gh-pages</code> branch.
  </p>
</section>


<section class="bs-docs-section">
  <h1 id="usage" class="page-header">
    Usage
  </h1>

  <h3 id="options">Options</h3>

  <div class="table-responsive">
    <table class="table table-bordered table-striped">
      <thead>
      <tr>
        <th style="width: 130px;">Name</th>
        <th style="width: 100px;">type</th>
        <th style="width: 150px;">default</th>
        <th>description</th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td>filters</td>
        <td>object[]</td>
        <td><span class="label label-danger">required</span></td>
        <td>Array of available filters in the builder. <a href="#filters"><i class="glyphicon glyphicon-info-sign"></i>
          See below</a></td>
      </tr>
      <tr>
        <td>plugins</td>
        <td>object</td>
        <td></td>
        <td>Configuration of plugins. <a href="{{ site.github.url | replace: 'http://', '//' }}/plugins.html"><i
          class="glyphicon glyphicon-info-sign"></i> See plugins page</a></td>
      </tr>
      <tr>
        <td>rules</td>
        <td>object</td>
        <td></td>
        <td>Initial set of rules. It's like calling <code>setRules</code> <a href="#methods">method</a> after
          initialization. By default the builder will contain one empty rule.
        </td>
      </tr>
      <tr>
        <td>optgroups</td>
        <td>object</td>
        <td></td>
        <td>List of groups in the filters and operators dropdowns (see <a href="#filters">filters</a> and <a
          href="#operators">operators</a> configuration). It can be a simple <i>id => label</i> map or contains
          localized strings.
          <a data-bootbox="optgroups_details"><i class="glyphicon glyphicon-info-sign"></i> More details</a>

          <div id="optgroups_details" class="hidden" title="Optgroups definition">
            <p>Simple <i>id => label</i> map :</p>
            <!-- @formatter:off -->
{% highlight js %}
optgroups: {
  core: '-- Core',
  plugins: '-- Plugins'
}
{% endhighlight %}
<!-- @formatter:on -->

            <p>Localized strings (<code>en</code> is mandatory) :</p>
            <!-- @formatter:off -->
{% highlight js %}
optgroups: {
  core: {
    'en': '-- Core',
    'fr': '-- Coeur',
    'de': '-- Kern'
  }
}
{% endhighlight %}
<!-- @formatter:on -->
          </div>
        </td>
      </tr>
      <tr>
        <td>default_filter</td>
        <td>string</td>
        <td>null</td>
        <td>The <code>id</code> of the default filter for any new rule.</td>
      </tr>
      <tr>
        <td>sort_filters</td>
        <td>boolean|function</td>
        <td>false</td>
        <td>Sort filters alphabetically, or with a custom function (passed to <code>Array.sort</code>).</td>
      </tr>
      <tr>
        <td>allow_groups</td>
        <td>boolean|int</td>
        <td>true</td>
        <td>Number of allowed nested groups. <code>true</code> for no limit.</td>
      </tr>
      <tr>
        <td>allow_empty</td>
        <td>boolean</td>
        <td>false</td>
        <td>No error will be thrown is the builder is entirely empty.</td>
      </tr>
      <tr>
        <td>display_errors</td>
        <td>boolean</td>
        <td>true</td>
        <td>When an error occurs on a rule, display an icon <i class="glyphicon glyphicon-warning-sign"></i> with a
          tooltip explaining the error.
        </td>
      </tr>
      <tr>
        <td>conditions</td>
        <td>string[]</td>
        <td>['AND', 'OR']</td>
        <td>Array of available group conditions. Use the <code>lang</code> option to change the label.</td>
      </tr>
      <tr>
        <td>default_condition</td>
        <td>string</td>
        <td>'AND'</td>
        <td>Default active condition.</td>
      </tr>
      <tr>
        <td>inputs_separator</td>
        <td>string</td>
        <td>' , '</td>
        <td>Piece of HTML used to separate multiple inputs (for <code>between</code> operator).</td>
      </tr>
      <tr>
        <td>display_empty_filter</td>
        <td>boolean</td>
        <td>true</td>
        <td>Add an empty option with <code>select_placeholder</code> string to the filter dropdowns. If the empty filter
          is disabled and no <code>default_filter</code> is defined, the first filter will be loaded when adding a rule.
        </td>
      </tr>
      <tr>
        <td>select_placeholder</td>
        <td>string</td>
        <td>'------'</td>
        <td>Label of the "no filter" option.</td>
      </tr>
      <tr>
        <td>operators</td>
        <td>object[]</td>
        <td></td>
        <td>Configuration of operators. <a href="#operators"><i class="glyphicon glyphicon-info-sign"></i> See below</a>
        </td>
      </tr>
      <tr>
        <td>lang_code</td>
        <td>string</td>
        <td>'en'</td>
        <td>One of the language files code available. Default is <i>English</i> or the last loaded language.</td>
      </tr>
      <tr>
        <td>lang</td>
        <td>object</td>
        <td></td>
        <td>Additional/overwrites translation strings. <a href="#lang"><i class="glyphicon glyphicon-info-sign"></i> See
          below</a></td>
      </tr>
      <tr>
        <td>icons</td>
        <td>object</td>
        <td><i>glyphicons</i></td>
        <td>Font-icons used in the builder. Defaults to using Glyphicons. <a href="#icons"><i
          class="glyphicon glyphicon-info-sign"></i> See below</a></td>
      </tr>
      <tr>
        <td>templates</td>
        <td>object</td>
        <td></td>
        <td>HTML templates. <a href="#templates"><i class="glyphicon glyphicon-info-sign"></i> See below</a></td>
      </tr>
      </tbody>
    </table>
  </div>

  <h3 id="filters">Filters</h3>

  <p>The <code>filters</code> option is an array of plain objects defining the rules possible contents. Here are the
    available attributes:</p>

  <div class="table-responsive">
    <table class="table table-bordered table-striped">
      <thead>
      <tr>
        <th style="width: 130px;">Name</th>
        <th style="width: 100px;">type</th>
        <th style="width: 150px;">default</th>
        <th>description</th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td>id</td>
        <td>string</td>
        <td><span class="label label-danger">required</span></td>
        <td>Unique identifier of the filter.</td>
      </tr>
      <tr>
        <td>field</td>
        <td>string</td>
        <td><code>=id</code></td>
        <td>Field used by the filter, multiple filters can use the same field.</td>
      </tr>
      <tr>
        <td>label</td>
        <td>string</td>
        <td><code>=field</code></td>
        <td>Label used to display the filter. It can be simple string or a map for localization.
          <a data-bootbox="filter_label_details"><i class="glyphicon glyphicon-info-sign"></i> More details</a>

          <div id="filter_label_details" class="hidden" title="Filter localization">
            <p>Define <code>label</code> as a map to translate the filter (<code>en</code> is mandatory) :</p>
            <!-- @formatter:off -->
{% highlight js %}
label: {
  'en': 'Name',
  'fr': 'Nom',
  'es': 'Nombre'
}
{% endhighlight %}
<!-- @formatter:on -->
          </div>
        </td>
      </tr>
      <tr>
        <td>optgroup</td>
        <td>string|object</td>
        <td></td>
        <td>Optional id of an <code>&lt;optgroup&gt;</code> in the filters dropdown. If the optgroup does not exist in
          the <a href="#options">global optgroups</a> map, it will be created with label=id for all languages.
        </td>
      </tr>
      <tr>
        <td>type</td>
        <td>string</td>
        <td><span class="label label-danger">required</span></td>
        <td>Type of the field. Available types are <code>string</code>, <code>integer</code>, <code>double</code>,
          <code>date</code>, <code>time</code>, <code>datetime</code> and <code>boolean</code>.
        </td>
      </tr>
      <tr>
        <td>input</td>
        <td>string|function</td>
        <td>'text'|'number'</td>
        <td>Type of input used. Available types are <code>text</code>, <code>number</code>, <code>textarea</code>,
          <code>radio</code>, <code>checkbox</code> and <code>select</code>.<br>
          It can also be a function which returns the HTML of the said input, this function takes 2 parameters:
          <ul>
            <li><code>rule</code> a <b>Rule</b> object</li>
            <li><code>input_name</code> the name of the input</li>
          </ul>
        </td>
      </tr>
      <tr>
        <td>values</td>
        <td>array|object</td>
        <td><span class="label label-warning">required*</span></td>
        <td><i>Required for <code>radio</code> and <code>checkbox</code> inputs. Generally needed for
          <code>select</code> inputs.</i>
          <a data-bootbox="filter_values_details"><i class="glyphicon glyphicon-info-sign"></i> More details</a>

          <div id="filter_values_details" class="hidden" title="Filter values">
            <p>Four formats are allowed for the <code>values</code> object.</p>
            <ol>
              <li>Simple array of values, labels will be the values.
                <!-- @formatter:off -->
{% highlight js %}
values: ['one', 'two', 'three']
{% endhighlight %}
<!-- @formatter:on -->
              </li>
              <li>Key-value object, keys are input values and values and labels.
                <!-- @formatter:off -->
{% highlight js %}
values: {
  'one': 'Un',
  'two': 'Deux',
  'three': 'Trois'
}
{% endhighlight %}
<!-- @formatter:on -->
              </li>
              <li>Because the order of key-value objects is uncertain, you can also use an array of one-element objects.
                <!-- @formatter:off -->
{% highlight js %}
values: [
  {'one': 'Un'},
  {'two': 'Deux'},
  {'three': 'Trois'}
]
{% endhighlight %}
<!-- @formatter:on -->
              </li>
              <li>The expanded format allows to define optgroups.
                <!-- @formatter:off -->
{% highlight js %}
values: [
  { value: 'one', label: 'Un', optgroup: 'Group 1' },
  { value: 'two', label: 'Deux', optgroup: 'Group 2' },
  { value: 'three', label: 'Trois' } // no group
]
{% endhighlight %}
<!-- @formatter:on -->
              </li>
            </ol>
          </div>
        </td>
      </tr>
      <tr>
        <td>value_separator</td>
        <td>string</td>
        <td></td>
        <td>Used the split and join the value when a <code>text</code> input is used with an operator allowing multiple
          values (<code>between</code> for example).
        </td>
      </tr>
      <tr>
        <td>default_value</td>
        <td>mixed</td>
        <td></td>
        <td>As it says :-)</td>
      </tr>
      <tr>
        <td>input_event</td>
        <td>string</td>
        <td>'change'</td>
        <td>Space separated list of DOM events which the builder should listen to detect value changes.</td>
      </tr>
      <tr>
        <td>size</td>
        <td>int</td>
        <td></td>
        <td><i>Only for <code>text</code> and <code>textarea</code> inputs:</i> horizontal size of the input.</td>
      </tr>
      <tr>
        <td>rows</td>
        <td>int</td>
        <td></td>
        <td><i>Only for <code>textarea</code> inputs:</i> vertical size of the input.</td>
      </tr>
      <tr>
        <td>multiple</td>
        <td>boolean</td>
        <td>false</td>
        <td><i>Only for <code>select</code> inputs:</i> accept multiple values.</td>
      </tr>
      <tr>
        <td>placeholder</td>
        <td>string</td>
        <td></td>
        <td><i>Only for <code>text</code> and <code>textarea</code> inputs:</i> placeholder to display inside the input.
        </td>
      </tr>
      <tr>
        <td>vertical</td>
        <td>boolean</td>
        <td>false</td>
        <td><i>Only for <code>radio</code> and <code>checkbox</code> inputs:</i> display inputs vertically on not
          horizontally.
        </td>
      </tr>
      <tr>
        <td>validation</td>
        <td>object</td>
        <td></td>
        <td>Object of options for rule validation. <a href="#validation"><i class="glyphicon glyphicon-info-sign"></i>
          See below</a></td>
      </tr>
      <tr>
        <td>operators</td>
        <td>array</td>
        <td></td>
        <td>Array of operators types to use for this filter. If empty the filter will use all applicable operators.
          <a data-bootbox="default_operators"><i class="glyphicon glyphicon-info-sign"></i> Show all operators</a>

          <div id="default_operators" title="All operators" class="hidden">
            <ul>
              <li>equal</li>
              <li>not_equal</li>
              <li>in</li>
              <li>not_in</li>
              <li>less</li>
              <li>less_or_equal</li>
              <li>greater</li>
              <li>greater_or_equal</li>
              <li>between</li>
              <li>not_between</li>
              <li>begins_with</li>
              <li>not_begins_with</li>
              <li>contains</li>
              <li>not_contains</li>
              <li>ends_with</li>
              <li>not_ends_with</li>
              <li>is_empty</li>
              <li>is_not_empty</li>
              <li>is_null</li>
              <li>is_not_null</li>
            </ul>
          </div>
        </td>
      </tr>
      <tr>
        <td>default_operator</td>
        <td>string</td>
        <td><code>operators[0]</code></td>
        <td>Type code of the default operator for this filter.</td>
      </tr>
      <tr>
        <td>plugin</td>
        <td>string</td>
        <td></td>
        <td>Name of a jQuery plugin to apply on the input.</td>
      </tr>
      <tr>
        <td>plugin_config</td>
        <td>object</td>
        <td></td>
        <td>Object of parameters to pass to the plugin.</td>
      </tr>
      <tr>
        <td>data</td>
        <td>object</td>
        <td></td>
        <td>Additional data not used by QueryBuilder but that will be added to the output rules object. Use this to
          store
          any functional data you need.
        </td>
      </tr>
      <tr>
        <td>valueSetter</td>
        <td>function</td>
        <td></td>
        <td>Function used to set the input(s) value. If provided the default function is not run. It takes 2 parameters:
          <ul>
            <li><code>rule</code> the <b>Rule</b> object</li>
            <li><code>value</code></li>
          </ul>
        </td>
      </tr>
      <tr>
        <td>valueGetter</td>
        <td>function</td>
        <td></td>
        <td>Function used to get the input(s) value. If provided the default function is not run. It takes 1 parameter:
          <ul>
            <li><code>rule</code> the <b>Rule</b> object</li>
          </ul>
        </td>
      </tr>
      </tbody>
    </table>
  </div>

  <h3 id="validation">Validation</h3>

  <p>
    QueryBuilder integrates a configurable validation system triggered when <code>validate()</code> or
    <code>getRules()</code> methods are called. The default validator checks for emptyness and can be extended with
    format check and bounds.<br>
    Optionally you can define a custom validation callback.
  </p>

  <p>Here are the available attributes of the <code>validation</code> field of each filter:</p>

  <div class="table-responsive">
    <table class="table table-bordered table-striped">
      <thead>
      <tr>
        <th style="width: 130px;">Name</th>
        <th style="width: 100px;">type</th>
        <th>description</th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td>format</td>
        <td>string|object</td>
        <td>
          <ul>
            <li>For <code>date</code>, <code>time</code>, <code>datetime</code>: a valid <a
              href="https://momentjs.com/docs/#/parsing/string-format/">MomentJS string format</a></li>
            <li>For <code>string</code>: a regular expression (plain or RegExp object)</li>
          </ul>
        </td>
      </tr>
      <tr>
        <td>min</td>
        <td>integer|double|string</td>
        <td>
          <ul>
            <li>For <code>integer</code>, <code>double</code>: minimum value</li>
            <li>For <code>date</code>, <code>time</code>, <code>datetime</code>: minimum value, respecting
              <code>format</code></li>
            <li>For <code>string</code>: minimum length</li>
          </ul>
        </td>
      </tr>
      <tr>
        <td>max</td>
        <td>integer|double|string</td>
        <td>
          <ul>
            <li>For <code>integer</code>, <code>double</code>: maximum value</li>
            <li>For <code>date</code>, <code>time</code>, <code>datetime</code>: maximum value, respecting
              <code>format</code></li>
            <li>For <code>string</code>: maximum length</li>
          </ul>
        </td>
      </tr>
      <tr>
        <td>step</td>
        <td>integer|double</td>
        <td>
          <ul>
            <li>For <code>integer</code>, <code>double</code>: step value (for <code>double</code> you should always
              provide this value in order to pass the browser validation on <code>&lt;number&gt;</code> inputs).<br>
              <b>any</b> is allowed to bypass browser validation.
            </li>
          </ul>
        </td>
      </tr>
      <tr>
        <td>messages</td>
        <td>object</td>
        <td>
          Custom error messages for the standard validations, keys are validation names.
          <!-- @formatter:off -->
{% highlight js %}
validation: {
  format: /^(?:[0-9]{1,3}\.){3}[0-9]{1,3}$/,
  messages: {
    format: 'The provided IP is not valid'
  }
}
{% endhighlight %}
<!-- @formatter:on -->
        </td>
      </tr>
      <tr>
        <td>allow_empty_value</td>
        <td>boolean</td>
        <td><code>true</code> to allow empty user input for this filter</td>
      </tr>
      <tr>
        <td>callback</td>
        <td>function</td>
        <td>A function used to perform the validation. If provided, the default validation will not be performed. It
          must returns <code>true</code> if the value is valid or an error string otherwise. It takes 2 parameters:
          <ul>
            <li><code>value</code></li>
            <li><code>rule</code> the <b>Rule</b> object</li>
          </ul>
        </td>
      </tr>
      </tbody>
    </table>
  </div>

  <h3 id="methods">Methods</h3>

  <p>The plugin's function acts as a proxy to access all underlying methods.</p>
  <!-- @formatter:off -->
{% highlight javascript %}
$('#builder').queryBuilder('methodName', param_1, param_2);
{% endhighlight %}
<!-- @formatter:on -->

  <p>You can also execute methods by getting a reference to the builder instance.</p>
  <!-- @formatter:off -->
{% highlight javascript %}
$('#builder')[0].queryBuilder.methodName(param_1, param_2);
{% endhighlight %}
<!-- @formatter:on -->

  <p>Only main methods are described, consult the
    <a class="btn btn-outline" href="{{ site.github.url | replace: 'http://', '//' }}/api/QueryBuilder.html#methods">API documentation</a>
    to learn more about all available methods.</p>

  <div class="bs-callout bs-callout-warning">
    <h4>Plugins methods</h4>
    <p>Methods added by <a href="{{ site.github.url | replace: 'http://', '//' }}/plugins.html">plugins</a> are detailed in their respective
      sections.</p>
  </div>

  <div class="bs-callout">
    <h4 id="method-validate"><code>.validate([options])</code></h4>

    <p>Returns a boolean indicating whether the builder is valid or not. Use the <code>validationError</code> event to
      catch
      per-rule validation errors. If <code>display_errors</code> is enabled the invalid rules will turn red.</p>

    <div class="table-responsive">
      <table class="table table-bordered table-striped">
        <thead>
        <tr>
          <th style="width: 130px;">Option</th>
          <th style="width: 100px;">type</th>
          <th style="width: 100px;">default</th>
          <th>description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
          <td>skip_empty</td>
          <td>boolean</td>
          <td>false</td>
          <td><code>true</code> to skip the validation on rules that have no filter selected.
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="bs-callout">
    <h4 id="method-getRules"><code>.getRules([options])</code></h4>

    <p>Performs validation and returns the rules as a plain JSON object. See the <a
      href="{{ site.github.url | replace: 'http://', '//' }}/demo.html">demo</a> for output example. The method takes an optional object of options.
    </p>

    <div class="table-responsive">
      <table class="table table-bordered table-striped">
        <thead>
        <tr>
          <th style="width: 130px;">Option</th>
          <th style="width: 100px;">type</th>
          <th style="width: 100px;">default</th>
          <th>description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
          <td>get_flags</td>
          <td>boolean|string</td>
          <td>false</td>
          <td><code>true</code> to return rule and group flags that differ from the default values. <code>'all'</code>
            to return all rule and group flags.
          </td>
        </tr>
        <tr>
          <td>allow_invalid</td>
          <td>boolean</td>
          <td>false</td>
          <td><code>true</code> to return the rules evn though the validation fails. The returned object has an additional `valid` property.</td>
        </tr>
        <tr>
          <td>skip_empty</td>
          <td>boolean</td>
          <td>false</td>
          <td><code>true</code> to skip rules that have no filter selected.
          </td>
        </tr>
        </tbody>
      </table>
    </div>

    <!-- @formatter:off -->
{% highlight javascript %}
// get all rules
$('#builder').queryBuilder('getRules');

// get all rules and their flags when applicable
$('#builder').queryBuilder('getRules', { get_flags: true });
{% endhighlight %}
<!-- @formatter:on -->

    <div class="bs-callout bs-callout-info">
      <h4>Other formats</h4>

      <p>For other output formats like <b>SQL</b> and <b>MongoDB</b>, please refer to the <a
        href="{{ site.github.url | replace: 'http://', '//' }}/plugins.html#import-export">plugins</a> page.</p>
    </div>
  </div>

  <div class="bs-callout">
    <h4 id="method-setRules"><code>.setRules(rules [, options])</code></h4>

    <p>Clears the builder and sets new rules. The parameters must have the same structure as the output of <code>getRules</code>.
      <a data-bootbox="rules_format"> <i class="glyphicon glyphicon-info-sign"></i> See an example</a></p>

    <div class="table-responsive">
      <table class="table table-bordered table-striped">
        <thead>
        <tr>
          <th style="width: 130px;">Option</th>
          <th style="width: 100px;">type</th>
          <th style="width: 100px;">default</th>
          <th>description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
          <td>allow_invalid</td>
          <td>boolean</td>
          <td>false</td>
          <td><code>true</code> to allow loading invalid and/or incomplete rules (no operator, no value, etc.).</td>
        </tr>
        </tbody>
      </table>
    </div>

    <!-- @formatter:off -->
{% highlight javascript %}
$('#builder').queryBuilder('setRules', { ... });
{% endhighlight %}
<!-- @formatter:on -->

    <div id="rules_format" title="Rules JSON format" class="hidden">
      <p>This is the data format expected by <code>setRules</code> method.</p>
      <!-- @formatter:off -->
{% highlight javascript %}
{
  "condition": "AND",
  "rules": [
    {
      "id": "price",
      "field": "price",
      "type": "double",
      "input": "text",
      "operator": "less",
      "value": "10.25"
    },
    {
      "condition": "OR",
      "rules": [
        {
          "id": "category",
          "field": "category",
          "type": "integer",
          "input": "select",
          "operator": "equal",
          "value": "2"
        },
        {
          "id": "category",
          "field": "category",
          "type": "integer",
          "input": "select",
          "operator": "equal",
          "value": "1"
        }
      ]
    }
  ]
}
{% endhighlight %}
<!-- @formatter:on -->
    </div>

    <h4>User data</h4>

    <p>Each rule and group can have an additional <code>data</code> parameter which will be merged with the filter data
      (for rules only) when calling <code>getRules</code>.</p>
    <!-- @formatter:off -->
{% highlight javascript %}
$('#builder').queryBuilder('setRules', {
  condition: 'AND',
  data: { // group data
    foo: 'bar'
  },
  rules: [
    {
      /* rule definition */
      data: { // rule data
        foo: 'bar'
      }
    }
  ]
});
{% endhighlight %}
<!-- @formatter:on -->

    <div class="alert alert-warning">The rule's data will be removed if the filter of the rule is changed. You can use
      the <code>flags</code> (see bellow) to lock the filter of a rule.
    </div>

    <h4>Empty rules</h4>

    <p>The <code>setRules</code> method will throw an error if a rule has no filter. If for some reason you want to
      populate the builder with an empty rule, use the <code>empty</code> keyword.</p>
    <!-- @formatter:off -->
{% highlight javascript %}
$('#builder').queryBuilder('setRules', {
  condition: 'AND',
  rules: [
    {
      /* standard rule */
    },
    {
      /* empty rule */
      empty: true
    }
  ]
});
{% endhighlight %}
<!-- @formatter:on -->

    <h4>Flags</h4>

    <p>Each rule can have an additional <code>flags</code> parameter which will control the editability of the rule.</p>

    <div class="table-responsive">
      <table class="table table-bordered table-striped">
        <thead>
        <tr>
          <th style="width: 130px;">Property</th>
          <th style="width: 100px;">type</th>
          <th style="width: 100px;">default</th>
          <th>description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
          <td>filter_readonly</td>
          <td>boolean</td>
          <td>false</td>
          <td>The filter select box is disabled.</td>
        </tr>
        <tr>
          <td>operator_readonly</td>
          <td>boolean</td>
          <td>false</td>
          <td>The operator select box is disabled.</td>
        </tr>
        <tr>
          <td>value_readonly</td>
          <td>boolean</td>
          <td>false</td>
          <td>The value inputs are disabled.</td>
        </tr>
        <tr>
          <td>no_delete</td>
          <td>boolean</td>
          <td>false</td>
          <td>The rule can't be deleted. <b>A group containing an undeletable rule can't deleted</b>.</td>
        </tr>
        </tbody>
      </table>
    </div>

    <p>Alternatively you can set the <code>readonly</code> parameter to <code>true</code>, which is a shorthand to:</p>
    <!-- @formatter:off -->
{% highlight javascript %}
{
    filter_readonly: true,
    operator_readonly: true,
    value_readonly: true,
    no_delete: true
}
{% endhighlight %}
<!-- @formatter:on -->

    <p>The same way, each group can have an additional <code>flags</code> parameter which will control the editability
      of the group.</p>

    <div class="table-responsive">
      <table class="table table-bordered table-striped">
        <thead>
        <tr>
          <th style="width: 130px;">Property</th>
          <th style="width: 100px;">type</th>
          <th style="width: 100px;">default</th>
          <th>description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
          <td>condition_readonly</td>
          <td>boolean</td>
          <td>false</td>
          <td>The group condition can't be changed.</td>
        </tr>
        <tr>
          <td>no_add_rule</td>
          <td>boolean</td>
          <td>false</td>
          <td>The "Add rule" button is disabled.</td>
        </tr>
        <tr>
          <td>no_add_group</td>
          <td>boolean</td>
          <td>false</td>
          <td>The "Add group" button is disabled.</td>
        </tr>
        <tr>
          <td>no_delete</td>
          <td>boolean</td>
          <td>false</td>
          <td>The group can't be deleted.</td>
        </tr>
        </tbody>
      </table>
    </div>

    <p>Alternatively you can set the <code>readonly</code> parameter to <code>true</code>, which is a shorthand to:</p>
    <!-- @formatter:off -->
{% highlight javascript %}
{
  condition_readonly: true,
  no_add_rule: true,
  no_add_group: true,
  no_delete: true
}
{% endhighlight %}
<!-- @formatter:on -->
  </div>

  <div class="bs-callout">
    <h4 id="method-getModel"><code>.getModel([element])</code></h4>

    <p>Given a group or rule DOM element, returns the associated <b>Group</b> or <b>Rule</b> object. Useful to perform
      manual operations on the builder (see <a href="#inside_the_box">Inside the box</a>). Without parameters it returns
      the root group model.</p>
    <!-- @formatter:off -->
{% highlight javascript %}
var root_model = $('#builder').queryBuilder('getModel');

var last_node_model = $('#builder').queryBuilder('getModel', $('#builder .rule-container').last());
{% endhighlight %}
<!-- @formatter:on -->
  </div>

  <div class="bs-callout">
    <h4 id="method-reset"><code>.reset()</code></h4>

    <p>Removes all rules.</p>
    <!-- @formatter:off -->
{% highlight javascript %}
$('#builder').queryBuilder('reset');
{% endhighlight %}
<!-- @formatter:on -->
  </div>

  <div class="bs-callout">
    <h4 id="method-destroy"><code>.destroy()</code></h4>

    <p>Completely destroy the builder and it's data.</p>
    <!-- @formatter:off -->
{% highlight javascript %}
$('#builder').queryBuilder('destroy');
{% endhighlight %}
<!-- @formatter:on -->
  </div>

  <h3 id="events">Events</h3>

  <p>QueryBuilder uses jQuery events to notify the "outer world" about various things happening, like adding a rule or
    when a validation error happens. The events system is also used by plugins.</p>

  <p>There are two types of events: <b>triggers</b> are used to identify a point in the code and <b>changers</b> are
    used to modify a value before it is used (eg: template, output rules). Both types are used the same way with the jQuery
    <code>on</code> method on the builder container.</p>

  <p>The full list of events can be found in the
    <a class="btn btn-outline" href="{{ site.github.url | replace: 'http://', '//' }}/api/QueryBuilder.html#events">API documentation</a>.</p>

  <div class="bs-callout">
    <h4>Triggers</h4>

    <p>Some events can be cancelled by calling <code>preventDefault()</code>. The typical example is for the errors events :</p>

    <!-- @formatter:off -->
{% highlight javascript %}
$('#builder').on('validationError.queryBuilder', function(e, rule, error, value) {
  // never display error for my custom filter
  if (rule.filter.id == 'my_custom_filter') {
    e.preventDefault();
  }
});
{% endhighlight %}
<!-- @formatter:on -->
    </div>

  <div class="bs-callout">
    <h4>Changers</h4>

    <p>All changers events have an additional <code>value</code> property which holds the value to be altered (or not).</p>
    <!-- @formatter:off -->
{% highlight javascript %}
$('#builder').on('getGroupTemplate.queryBuilder.filter', function(e, level) {
  if (level == 1) {
    e.value = /* ... */
  }
});
{% endhighlight %}
<!-- @formatter:on -->
    </div>

  <div class="bs-callout bs-callout-info">
    <h4>Callbacks context</h4>
    <p>In all events callbacks, the first parameter is an <code>Event</code> object which contains the
      <code>builder</code> property, a reference to the QueryBuilder object currently used. Among other things it
      contains <code>builder.settings</code> which holds the current configuration.</p>
  </div>

  <div class="bs-callout bs-callout-info">
    <h4>Rule &amp; Group</h4>
    <p>Read <a href="#inside_the_box">Inside the box</a> to learn more about the Rule and
      Group objects.</p>
  </div>

  <div class="bs-callout bs-callout-warning">
    <h4>Plugins events</h4>
    <p>Events added by <a href="{{ site.github.url | replace: 'http://', '//' }}/plugins.html">plugins</a> are detailed in their respective sections.</p>
  </div>

  <h3 id="themes">Themes</h3>

  <p>QueryBuilder comes with two colors-schemes:
    <a href="{{site.cdnUrl}}/css/query-builder.default.min.css" target="_blank"><i class="glyphicon glyphicon-file"></i>
      default</a>
    (clear) and <a href="{{site.cdnUrl}}/css/query-builder.dark.min.css" target="_blank"><i
      class="glyphicon glyphicon-file"></i> dark</a>.
    Change the active theme by switching stylesheets. You cannot use both color-schemes on the same page.</p>
</section>

<section class="bs-docs-section">
  <h1 id="advanced" class="page-header">
    Advanced
  </h1>

  <h3 id="operators">Operators</h3>

  <p>QueryBuilder is bundled with an <a data-bootbox="default_operators"><i class="glyphicon glyphicon-info-sign"></i>
    extensive list of operators</a>. You can change which operators are available for each filter (see <a
    href="#filters">filters</a> configuration) but you can also modify/reorder the operators globally and even add new
    custom operators.</p>

  <p>The <code>operators</code> config property is an array of strings (existing operators) or object (existing and new
    operators). The operators properties are :</p>

  <div class="table-responsive">
    <table class="table table-bordered table-striped">
      <thead>
      <tr>
        <th style="width: 130px;">Property</th>
        <th style="width: 100px;">type</th>
        <th>description</th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td>type</td>
        <td>string</td>
        <td>Identifier of the operator, use the <code>lang.operators</code> to translate or give a human readable name
          to
          your operator.
        </td>
      </tr>
      <tr>
        <td>optgroup</td>
        <td>string</td>
        <td>Optional id of an <code>&lt;optgroup&gt;</code> in the operators dropdown. If the optgroup does not exist in
          the <a href="#options">global optgroups</a> map, it will be created with label=id for all languages.
        </td>
      </tr>
      <tr>
        <td>nb_inputs</td>
        <td>int</td>
        <td>The number of inputs displayed. Typical values are <code>0</code> (<code>is_null</code> &amp; similar
          operators),
          <code>1</code> (most operators) and <code>2</code> (<code>between</code> operator).
        </td>
      </tr>
      <tr>
        <td>multiple</td>
        <td>boolean</td>
        <td>Inform the builder that each input can have multiple values. <code>true</code> for
          <code>in</code> and  <code>not_in</code>, <code>false</code> otherwise.
        </td>
      </tr>
      <tr>
        <td>apply_to</td>
        <td>array</td>
        <td>An array containing <code>string</code>, <code>number</code>, <code>datetime</code>, <code>boolean</code>.
        </td>
      </tr>
      </tbody>
    </table>
  </div>

  <p>For example to only use "equal" and "not equal" operators you use this config :</p>
  <!-- @formatter:off -->
{% highlight javascript %}
operators: ['equal', 'not_equal']
{% endhighlight %}
<!-- @formatter:on -->

  <p>To use "equal" and "not equal" and a custom operator, in custom optgroups :</p>
  <!-- @formatter:off -->
{% highlight javascript %}
operators: [
  { type: 'equal', optgroup: 'basic' },
  { type: 'not_equal', optgroup: 'basic' },
  { type: 'geo', optgroup: 'custom', nb_inputs: 3, multiple: false, apply_to: ['number'] }
]
{% endhighlight %}
<!-- @formatter:on -->

  <h3 id="lang">Translation</h3>

  <p>Translation files are available in the <a href="{{site.treeUrl}}/dist/i18n"><i
    class="glyphicon glyphicon-file"></i> i18n</a> folder. Just include one of the files after the main JavaScript to
    use it.

  <p>

  <p>You can load multiple translation files and use the <code>lang_code</code> option to choose which language to use.
  </p>

  <p>Available languages are (some are partially translated) :</p>

  <div class="languages-list clearfix">
    <span><i class="flag flag-al"></i> Albanian</span>
    <span><i class="flag flag-ar"></i> Arabic</span>
    <span><i class="flag flag-az"></i> Azerbaijani</span>
    <span><i class="flag flag-bg"></i> Bulgarian</span>
    <span><i class="flag flag-zh-CN"></i> Simplified Chinese</span>
    <span><i class="flag flag-cs"></i> Czech</span>
    <span><i class="flag flag-dk"></i> Danish</span>
    <span><i class="flag flag-nl"></i> Dutch</span>
    <span><i class="flag flag-gb"></i> English</span>
    <span><i class="flag flag-ir"></i> Farsi</span>
    <span><i class="flag flag-fr"></i> French</span>
    <span><i class="flag flag-de"></i> German</span>
    <span><i class="flag flag-el"></i> Greek</span>
    <span><i class="flag flag-he"></i> Hebrew</span>
    <span><i class="flag flag-it"></i> Italian</span>
    <span><i class="flag flag-no"></i> Norwegian</span>
    <span><i class="flag flag-pl"></i> Polish</span>
    <span><i class="flag flag-pt-PT"></i> Portuguese</span>
    <span><i class="flag flag-pt-BR"></i> Brazilian Portuguese</span>
    <span><i class="flag flag-ro"></i> Romanian</span>
    <span><i class="flag flag-ru"></i> Russian</span>
    <span><i class="flag flag-es"></i> Spanish</span>
    <span><i class="flag flag-tr"></i> Turkish</span>
    <span><i class="flag flag-ua"></i> Ukrainian</span>
  </div>

  <p>Alternatively you can overwrite some translations with the <code>lang</code> option. It is very useful for custom
    operators and conditions.<br>
    Default English strings are
    <a href="https://github.com/mistic100/jQuery-QueryBuilder/search?q=en.json+in:path">
      <i class="glyphicon glyphicon-file"></i> in the source code
    </a>.</p>

  <h3 id="icons">Icons</h3>

  <p>The <code>icons</code> option provides a way of using alternate icons sets. Available attributes:</p>

  <div class="table-responsive">
    <table class="table table-bordered table-striped">
      <thead>
      <tr>
        <th style="width: 150px;">Name</th>
        <th style="width: 100px;">type</th>
        <th>default</th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td>add_group</td>
        <td>string</td>
        <td>'glyphicon glyphicon-plus-sign'</td>
      </tr>
      <tr>
        <td>add_rule</td>
        <td>string</td>
        <td>'glyphicon glyphicon-plus'</td>
      </tr>
      <tr>
        <td>remove_group</td>
        <td>string</td>
        <td>'glyphicon glyphicon-remove'</td>
      </tr>
      <tr>
        <td>remove_rule</td>
        <td>string</td>
        <td>'glyphicon glyphicon-remove'</td>
      </tr>
      <tr>
        <td>error</td>
        <td>string</td>
        <td>'glyphicon glyphicon-warning-sign'</td>
      </tr>
      </tbody>
    </table>
  </div>

  <h3 id="templates">Templates</h3>

  <p>For very specific customizations, QueryBuilder provides a way to completely overwrite the HTML templates used to
    display rules and groups. It uses the <a href="https://olado.github.io/doT">doT.js</a> template engine by default,
    but
    can be used with most JS template engines, like <i>underscore.js</i> one.</p>

  <div class="bs-callout bs-callout-danger">
    <h4>Very advanced feature</h4>

    <p>Modifying templates can lead to a non-functionnal builder if the general layout differs too much. In particular,
      non-Bootstrap CSS classes should not be removed.</p>
  </div>

  <p>Templates can be provided as a <a href="https://olado.github.io/doT/#samples">doT.js template string</a> or as a
    function taking an object of variables and returning an HTML string (<code>_.template</code> for instance). Check
    the default templates <a href="{{site.blobUrl}}/src/template.js"><i class="glyphicon glyphicon-file"></i> in the
      source code</a>.</p>

  <p>For all templates, these variables are available :</p>
  <ul>
    <li><code>builder</code> reference to the QueryBuilder object</li>
    <li><code>settings</code> short-hand for <i>builder.settings</i></li>
    <li><code>lang</code> short-hand for <i>builder.settings.lang</i></li>
    <li><code>icons</code> short-hand for <i>builder.settings.icons</i></li>
  </ul>

  <div class="bs-callout">
    <h4>group</h4>

    <p>The template used to build an empty group. Other variables available :</p>
    <ul>
      <li><code>group_id</code> unique identifier of the group</li>
      <li><code>level</code> level of the group (1 is root)</li>
      <li><code>conditions</code> the conditions available in this group</li>
    </ul>
  </div>

  <div class="bs-callout">
    <h4>rule</h4>

    <p>The template used to build an empty rule. Other variables available :</p>
    <ul>
      <li><code>rule_id</code> unique identifier of the rule</li>
    </ul>
  </div>

  <div class="bs-callout">
    <h4>filterSelect</h4>

    <p>The template used to build the filters selectbox. Other variables available :</p>
    <ul>
      <li><code>rule</code> a <b>Rule</b> object</li>
      <li><code>filters</code> the filters available in this rule</li>
      <li><code>translate</code> a function used for localization</i></li>
    </ul>
  </div>

  <div class="bs-callout">
    <h4>operatorSelect</h4>

    <p>The template used to build the operators selectbox. Other variables available :</p>
    <ul>
      <li><code>rule</code> a <b>Rule</b> object</li>
      <li><code>operators</code> the operators available in this rule</li>
      <li><code>translate</code> a function used for localization</i></li>
    </ul>
  </div>

  <h3 id="inside_the_box">Inside the box</h3>

  <p>You might have noticed that callbacks and events refer to two objects <b>Rule</b> and <b>Group</b>. These objects
    are part of the data model with partial data-binding used internally by QueryBuilder. Here are the structures of
    these
    two objects. Most attributes will live-update the builder when modified.</p>

  <div class="container-fluid">
    <div class="col-sm-6">
      <div id="tree-common"></div>
    </div>
    <div class="col-sm-6">
      <div id="tree-rule"></div>
      <div id="tree-group"></div>
    </div>
  </div>
</section>


<link href="{{ site.github.url | replace: 'http://', '//' }}/node_modules/bootstrap-treeview/dist/bootstrap-treeview.min.css" rel="stylesheet">
<link href="{{ site.github.url | replace: 'http://', '//' }}/node_modules/jQuery-QueryBuilder/dist/css/query-builder.default.min.css" rel="stylesheet">
<link href="{{ site.github.url | replace: 'http://', '//' }}/assets/flags/flags.css" rel="stylesheet">

<style>
  .languages-list {
    margin-bottom: 1em;
  }

  .languages-list span {
    float: left;
    display: block;
    width: 25%;
  }

  .treeview .expand-collapse {
    display: none;
  }
</style>

<script src="{{ site.github.url | replace: 'http://', '//' }}/node_modules/bootstrap-treeview/dist/bootstrap-treeview.min.js"></script>
<script src="{{ site.github.url | replace: 'http://', '//' }}/node_modules/jQuery-QueryBuilder/dist/js/query-builder.standalone.min.js"></script>
<script src="{{ site.github.url | replace: 'http://', '//' }}/assets/demo-basic.js"></script>
<script src="{{ site.github.url | replace: 'http://', '//' }}/assets/index.js"></script>
